# 디연 게시판

## 프로젝트 선정 이유

학교 선배와 Full-Stack 인재에 대해서 이야기를 하다가, 미션을 하나 받았습니다. 그 것은 의외로 '게시판 만들기' 였습니다. 지금까지 연습용으로 만든 대부분의 어플리케이션이 전부다 글을 올리고 수정하고 삭제하는 과정을 포함한 게시판의 기능을 갖고 있어서 처음에 저는 "게시판은 쉽죠" 라고 어리석게 대답했습니다. 하지만, 정말 사람들이 잘 활용할 수 있는 시판되는 수준의 게시판을 만들어 보라고 했습니다. 처음에는 이해가 잘 안되었습니다. 그래서 무작정 저희 학교 포털 사이트인 디연('http://www.dyeon.net')의 디자인과 기능을 갖고 게시판 설계를 시작했습니다. 여러 기능을 검색하면서 구현하였는데, DB 설계와 전체 어플리케이션의 설계를 한 눈에 바라보는데 많은 도움이 되었습니다. 사람들이 미션을 줄 때 왜 "게시판 부터 만들어봐" 라는 말을 하는지 이제는 조금 알 것 같았습니다. 실제로 시판되는 수준에는 조금 못 미치지만, 기본적인 기능은 다 담고 있는 게시판입니다.

## 프로젝트 요약

- 디연 게시판 디자인을 가져왔습니다.
- 회원 관리 기능이 있습니다. (아바타 이미지 업로드)
- 외부 에디터로 글 작성을 편하게 도와줍니다.
- 각각의 작성 시기와 수정 시기 그리고 작성자를 알려줍니다.
- 각각의 사용자는 글을 각각의 글은 댓글을 N개 소유합니다.
- 조회 수에 따라 색깔이 변합니다.
- 에디터로 작성된 글은 text가 아니라 <p> 태그로 바뀝니다.
- 경고문을 포함한 영어로 된 부분을 모두 한글로 번역하여 적용하였습니다.

## 프로젝트 풀이

- 마지막 댓글 정보 가져오기
(마지막으로 수정한 날짜만으로는 부족하여 추가하였습니다.)
time_ago_in_words 메소드로 해당 포스트의 댓글들 중 마지막 댓글이 마지막으로 업데이트 된 시간을 측정합니다. 해당 포스트의 댓글들 중 마지막 댓글의 유저의 이름을 가져옵니다. 각각의 댓글과 포스트와 유저의 관계를 파악하는 것이 관건입니다.

- 날짜와 시간 한글화 작업
(기본적으로 Rails 에서 제공하는 것들은 모두 영어이므로 한글화 작업이 따로 이루어져야 합니다.)
미리 Github 에서 각국의 프로그래머들이 정리해놓은 번역 문서(ko.yml)가 있습니다. 해당 문서를 포함시켜 i18n 형태를 허용해주면 기본 설정인 영어가 매칭되는 부분에 한하여 한글로 바뀝니다. 해당 i18 파일을 제공하는 나라의 소스를 추가하고 수정하면, 해당 언어로 번역되어 보여집니다.

## 프로젝트 소감

게시판을 별것 아니라고 생각했는데, 여러 기능을 포함한 게시판은 단순 검색뿐만 아니라, 전체적인 구조를 모두 이해하고 있어야지 만들 수 있다는 사실을 알게 해준 프로젝트입니다. 각각의 테이블들의 연관 관계의 중요성을 이해하는데에 도움을 주었습니다. (1:1, n:1, n:n, m:n 관계에 대한 이해를 뜻합니다.) 이 프로젝트는 설계는 연필로 했지만, 만들 기 전에 전체 구조를 디자인한 초안을 html 파일로 만들어 두고 그 파일을 사용하는 방식으로 전체 코딩을 하였습니다. 무작정 코딩을 하던 단계에서 한 단계 진화한 것 같습니다.


####사용된 젬 목록

1. gem 'devise', '~> 3.5', '>= 3.5.6' (회원 가입에 사용됩니다.)
2. gem 'bootstrap-sass', '~> 3.3', '>= 3.3.6' (부트스트랩 프레임워크를 사용하기 위해서 사용합니다.)
3. gem 'acts_as_votable', '~> 0.10.0' (좋아요/싫어요 기능을 넣는데 사용합니다.)
4. gem 'simple_form', '~> 3.0.2' (소스코드를 간결하게 만들어줍니다.)
5. gem 'tinymce-rails', '~> 4.3', '>= 4.3.3' (tinymce 리치 에디터를 사용하도록 도와줍니다.)
6. gem 'font-awesome-rails', '~> 4.5', '>= 4.5.0.1' (어썸 폰트를 사용합니다.)
7. gem 'will_paginate-bootstrap', '~> 1.0', '>= 1.0.1' (부트스트랩 형태의 페이지네이션을 위해 사용합니다.)
8. gem 'paperclip', '~> 4.3', '>= 4.3.5' (이미지나 파일을 올릴 때 사용합니다.)
9. gem 'aws-sdk', '< 2.0' (올린 이미지를 아마존 웹 서비스에 올리기 위해서 사용합니다.)

<img width="953" alt="2016-02-20 4 43 32" src="https://cloud.githubusercontent.com/assets/14962669/13195333/d02d2be8-d7f2-11e5-965d-1354f1aaefb0.png">
<img width="424" alt="2016-02-20 4 44 56" src="https://cloud.githubusercontent.com/assets/14962669/13195335/d14511ee-d7f2-11e5-89f7-4b04803fbb9c.png">
<img width="965" alt="2016-02-20 4 45 14" src="https://cloud.githubusercontent.com/assets/14962669/13195337/d305a3ea-d7f2-11e5-8848-33321773e6c9.png">
<img width="959" alt="2016-02-20 4 45 32" src="https://cloud.githubusercontent.com/assets/14962669/13195338/d44dd4ca-d7f2-11e5-95b0-e34d9a92df86.png">
<img width="937" alt="2016-02-20 4 48 29" src="https://cloud.githubusercontent.com/assets/14962669/13195339/d58ed348-d7f2-11e5-8769-8132b04c5356.png">
<img width="939" alt="2016-02-20 4 49 03" src="https://cloud.githubusercontent.com/assets/14962669/13195340/d8e2263a-d7f2-11e5-8a7d-c5015f705be5.png">
